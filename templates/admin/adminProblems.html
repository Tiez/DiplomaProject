{% extends "admin/admin.html" %}
{% block title %}Problems{% endblock %}

{% block style %}
<style>
    #footer {


        align-items: center;
        height: 5px;
        background-color: #2a2a2a;
        color: #e6e6e6;
        font-weight: bold;
        margin: 0px 0 20px;
        padding: 10px;
        border-radius: 0 0 12px 12px;
    }

    /* Header row */
    #header {
        display: grid;
        grid-template-columns: 1fr 2fr 2fr 3fr 2fr;
        /* ID, Title, Examples, Desc, Actions */
        align-items: center;
        gap: 10px;
        background-color: #2a2a2a;
        color: #e6e6e6;
        font-weight: bold;
        margin: 20px 0 0;
        padding: 10px;
        border-radius: 12px 12px 0 0;
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    }

    /* Each row */
    #listItem {
        display: grid;
        grid-template-columns: 1fr 2fr 2fr 3fr 2fr;
        /* same as header */
        align-items: center;
        gap: 10px;
        background-color: #1e1e1e;
        color: #ddd;
        padding: 10px;
        margin: 0px 0 10px;

    }

    /* Container for all rows */
    #list-container {
        font-family: Arial, sans-serif;
        overflow: hidden;
        margin-top: 10px;
    }

    /* Column text */
    .ID,
    .TITLE,
    .EXP,
    .DESC,
    .ACT {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    /* Buttons */
    .actions {
        display: flex;
        justify-content: center;
        gap: 8px;
    }

    #edit,
    #del {
        padding: 6px 10px;
        border-radius: 6px;
        font-size: 14px;
        text-align: center;
        color: #fff;
        text-decoration: none;
        flex: 1;
    }

    #edit {
        background-color: #2d8521;
    }

    #del {
        background-color: #852121;
    }

    /* Add Problem button */
    .add-btn {
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        display: inline-block;
        background-color: #2d8521;
        color: #f0f0f0;
        font-size: 17px;
        padding: 6px 12px;
        margin: 10px 0;
        border-radius: 6px;
        text-decoration: none;
    }
</style>
{% endblock %}

{% block content %}
{% if add or edit %}
ID {{ problem_id }}

<form method="POST">
    <input type="text" id="title" name="title" placeholder="Problem Title" required><br>
    <textarea id="description" name="description" placeholder="Description" rows="4" cols="50" required></textarea><br>
    <textarea id="example" name="example" placeholder="Examples" rows="4" cols="50" required></textarea><br>
    <textarea id="prefix" name="prefix" placeholder="Prefix" rows="4" cols="50" required></textarea><br>
    <textarea id="constraints" name="constraints" placeholder="Constraints" rows="4" cols="50" required></textarea><br>

    {% if add %}
    <button type="submit">Add Problem</button>
    {% else %}
    <button type="submit">Edit Problem</button><br>
    {% endif %}
</form>
{% endif %}

{% if not add and not edit %}
<h2
    style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">
    Problems</h2>
<a class="add-btn" href="{{ url_for('add_problem') }}">Add New Problem</a>

<div id="header">
    <div class="ID">ID</div>
    <div class="TITLE">Title</div>
    <div class="EXP">Examples</div>
    <div class="DESC">Description</div>
    <div class="ACT">Actions</div>
</div>

<div id="list-container">
    {% for p in problems %}
    <div id="listItem">
        <div class="ID">{{ p.id }}</div>
        <div class="TITLE">{{ p.title }}</div>
        <div class="EXP">{{ p.examples }}</div>
        <div class="DESC">{{ p.description }}</div>
        <div class="actions">
            <a id="edit" href="{{ url_for('edit_problem', id=p.id) }}">Edit</a>
            <a id="del" href="{{ url_for('delete_problem', id=p.id) }}">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>

<div id="footer"></div>
{% endif %}
{% endblock %}